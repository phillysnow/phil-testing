<template>
	<div class="cursor" :class="{ disable: point !== 's' || point !== 'm', disable: isSafari }">
		<span class="sphere"></span>
	</div>
</template>

<script>
import { Component, Vue } from 'nuxt-property-decorator';
import Kinet from 'kinet';

@Component({})
export default class CursorAlt extends Vue {
	isSafari = false;
	point = '';

	mounted() {
		const kinet = new Kinet({
			acceleration: 0.2,
			friction: 0.4,
			names: ['x', 'y', 'z'],
		});

		this.point = window.breakPoint;

		document.body.classList.add('disable-cursor');

		const isSafariBrowser = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
		if (isSafariBrowser) {
			this.isSafari = true;

			document.body.classList.remove('disable-cursor');
		}

		kinet.animate('z', 1);

		document.addEventListener(
			'mousemove',
			(event) => {
				kinet.animate('x', event.clientX - window.innerWidth / 2);
				kinet.animate('y', event.clientY - window.innerHeight / 2);
			},
			{ passive: true }
		);

		document.addEventListener(
			'mousedown',
			(event) => {
				kinet.animate('z', 0.7);
			},
			{ passive: true }
		);

		document.addEventListener(
			'mouseup',
			(event) => {
				kinet.animate('z', 1);
			},
			{ passive: true }
		);

		kinet.on('tick', (instances) => {
			this.$el.style.transform = `translate3d(${instances.x.current}px, ${instances.y.current}px, 0) scale(${
				instances.z.current
			}) rotateX(${instances.x.velocity / 2}deg) rotateY(${instances.y.velocity / 2}deg)`;
		});
	}
}
</script>

<style lang="scss">
.cursor {
	display: none;
}

@media all and (min-width: $m) {
	body.disable-cursor {
		cursor: none;

		* {
			cursor: none;
		}
	}

	.sphere {
		display: block;
		position: absolute;
		width: 1.4rem;
		height: 1.4rem;
		top: 50%;
		left: 50%;
		background: $pink;
		border-radius: 50%;
		transform: translate(-50%, -50%) scale(1);
		transition: width 0.3s $gom, height 0.3s $gom;

		&::before {
			content: '';
			display: block;
			position: absolute;
			top: 50%;
			left: 50%;
			width: 3rem;
			height: 3rem;
			color: $white;
			font-size: 3em;
			line-height: 1.2em;
			opacity: 0;
			transition: opacity 0.3s $gom;
			transform: translate(-50%, -50%);
		}
	}

	.cursor {
		display: block;
		width: 1px;
		height: 1px;
		position: fixed;
		pointer-events: none;
		top: 50%;
		left: 50%;
		z-index: 5;

		&.scale {
			.sphere {
				width: 1.4rem * 2;
				height: 1.4rem * 2;
			}
		}

		&.link {
			.sphere {
				width: 1.4rem * 3;
				height: 1.4rem * 3;

				&::before {
					content: url('data:image/svg+xml; utf8, <svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 40.22 24.29"><path d="M35.79,5.58a20.57,20.57,0,0,1,4.43,5.58,20.42,20.42,0,0,1-4.43,5.55,22.76,22.76,0,0,1-15.66,5.58A22.86,22.86,0,0,1,4.45,16.71,20.87,20.87,0,0,1,0,11.16,21,21,0,0,1,4.45,5.58,22.86,22.86,0,0,1,20.13,0,22.76,22.76,0,0,1,35.79,5.58Zm-8.25,5.58A7,7,0,0,0,25.36,6a7.23,7.23,0,0,0-5.25-2.13A7.34,7.34,0,0,0,17,4.55l-.77-1.76Q7.75,4.24,3.82,11.16a16,16,0,0,0,2.77,3.58A17.87,17.87,0,0,0,16.2,19.5a9.11,9.11,0,0,1-4-3.35,8.82,8.82,0,0,1-1.5-5,9.24,9.24,0,0,1,.59-3.24l1.88.59a7.11,7.11,0,0,0,1.66,7.79,7.22,7.22,0,0,0,5.25,2.12,7.22,7.22,0,0,0,5.25-2.12A6.92,6.92,0,0,0,27.54,11.16Zm-1.81,0a5.26,5.26,0,0,1-1.65,3.89,5.72,5.72,0,0,1-8,0,5.29,5.29,0,0,1-1.64-3.89,5.39,5.39,0,0,1,.36-1.95l5.74,2.6-2.7-5.69a5.35,5.35,0,0,1,2.23-.47,5.46,5.46,0,0,1,4,1.62A5.23,5.23,0,0,1,25.73,11.16ZM24,19.5Q32.49,18,36.4,11.16a16.2,16.2,0,0,0-2.79-3.61,17.87,17.87,0,0,0-9.7-4.76,9.23,9.23,0,0,1,4,3.3,8.9,8.9,0,0,1,1.54,5.07,8.75,8.75,0,0,1-1.51,5,9.23,9.23,0,0,1-4,3.35Z"/></svg>');
					transform: translate(-50%, -56%);
					opacity: 1;
				}
			}
		}

		&.more {
			.sphere {
				width: 1.4rem * 3;
				height: 1.4rem * 3;

				&::before {
					content: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 42 22'%3e%3cg fill='none' fill-rule='evenodd' stroke='none' stroke-width='1'%3e%3cpath fill='white' fill-rule='nonzero' d='M20.285%2c21.7 C20.735%2c21.7 21.41%2c21.565 22.535%2c21.205 C23.345%2c21.25 24.065%2c21.295 24.38%2c21.295 C26.495%2c21.295 27.665%2c20.845 31.535%2c18.505 C32.84%2c17.695 33.2%2c17.515 34.235%2c17.11 C34.73%2c17.605 35.09%2c17.875 35.495%2c18.01 C35.81%2c18.145 37.115%2c18.28 38.015%2c18.28 C39.275%2c18.28 39.815%2c18.1 40.13%2c17.56 C41.075%2c15.895 41.57%2c13.105 41.57%2c9.595 C41.57%2c5.545 40.94%2c3.7 39.455%2c3.52 C39.095%2c3.475 37.61%2c3.385 37.295%2c3.385 C36.125%2c3.385 35.765%2c3.61 34.37%2c4.96 C33.74%2c4.915 33.47%2c4.78 32.66%2c4.06 C31.715%2c3.25 29.42%2c1.855 28.07%2c1.27 C26.855%2c0.685 25.505%2c0.415 24.11%2c0.415 C23.21%2c0.415 22.85%2c0.46 21.545%2c0.775 C20.51%2c1.045 20.51%2c1.045 18.665%2c1.45 C17.675%2c1.675 16.55%2c2.575 15.29%2c4.06 C12.815%2c4.465 11.78%2c4.6 9.35%2c4.735 C4.13%2c5.05 3.635%2c5.095 2.6%2c5.275 C0.845%2c5.635 -0.01%2c6.445 -0.01%2c7.705 C-0.01%2c8.29 0.26%2c8.875 0.755%2c9.235 C1.75863636%2c10.0204545 3.18541322%2c10.2558264 6.96382544%2c10.2693701 L12.365%2c10.27 L12.365%2c10.27 C11.87%2c11.08 11.69%2c11.62 11.69%2c12.34 C11.69%2c13.87 12.77%2c14.995 14.345%2c15.085 C14.165%2c15.67 14.075%2c15.985 14.075%2c16.3 C14.075%2c17.875 15.38%2c19.27 16.865%2c19.27 C17.09%2c19.27 17.405%2c19.225 17.855%2c19.045 C17.765%2c19.315 17.765%2c19.45 17.765%2c19.63 C17.765%2c20.71 18.98%2c21.7 20.285%2c21.7 Z M24.335%2c20.17 C26.315%2c18.595 27.17%2c17.38 27.17%2c16.12 C27.17%2c15.355 26.99%2c14.815 26.585%2c14.455 C26%2c13.915 25.64%2c13.735 24.965%2c13.735 C25.01%2c13.375 25.055%2c13.195 25.055%2c12.97 C25.055%2c11.755 24.2%2c10.945 22.76%2c10.765 C22.94%2c10.45 22.985%2c10.315 23.075%2c9.91 C25.055%2c10.945 25.28%2c11.08 25.865%2c11.26 C26.54%2c11.44 28.43%2c11.71 29.24%2c11.71 C30.32%2c11.71 31.085%2c11.35 31.085%2c10.855 C31.085%2c10.54 30.86%2c10.36 30.5%2c10.36 L30.32%2c10.36 L30.32%2c10.36 C29.015%2c10.495 29.015%2c10.495 28.88%2c10.495 C27.035%2c10.495 25.82%2c10.18 24.65%2c9.415 C23.165%2c8.47 22.22%2c7.615 21.32%2c6.535 C20.825%2c6.67 20.825%2c6.67 19.79%2c7.075 C18.98%2c7.345 18.98%2c7.345 18.665%2c7.84 C17.765%2c9.1 16.73%2c9.73 15.515%2c9.73 C14.705%2c9.73 14.165%2c9.37 14.165%2c8.83 C14.165%2c8.515 14.39%2c7.93 14.975%2c6.985 C16.145%2c4.915 17.27%2c3.61 18.305%2c3.07 C19.34%2c2.53 22.94%2c1.63 24.155%2c1.63 C25.1%2c1.63 26.045%2c1.81 26.99%2c2.17 C28.295%2c2.71 30.635%2c4.105 32.075%2c5.185 C33.11%2c5.995 33.74%2c6.31 34.46%2c6.31 C34.505%2c6.31 34.64%2c6.265 34.82%2c6.22 C35.18%2c6.985 35.225%2c7.165 35.315%2c7.84 C35.36%2c8.38 35.45%2c10.495 35.45%2c11.08 C35.45%2c11.575 35.36%2c12.565 35.225%2c13.24 C35.045%2c14.41 34.865%2c14.86 34.235%2c15.67 C33.47%2c16.12 33.47%2c16.12 31.31%2c17.2 L29.195%2c18.415 C27.44%2c19.495 25.955%2c20.035 24.335%2c20.17 Z M38.15%2c16.93 C36.035%2c16.93 35.54%2c16.84 35.54%2c16.39 C35.54%2c16.255 35.63%2c16.03 35.945%2c15.265 C36.44%2c14.14 36.71%2c12.34 36.71%2c10.27 C36.71%2c8.11 36.53%2c6.805 36.035%2c5.635 C35.99%2c5.5 35.945%2c5.365 35.945%2c5.275 C35.945%2c4.96 36.485%2c4.645 36.98%2c4.645 C37.16%2c4.645 37.295%2c4.645 37.565%2c4.69 L38.465%2c4.69 L38.465%2c4.69 C39.41%2c4.69 39.725%2c4.825 39.95%2c5.365 C40.22%2c6.085 40.4%2c7.705 40.4%2c9.865 C40.4%2c12.52 40.175%2c14.095 39.545%2c15.895 C39.185%2c16.795 39.05%2c16.93 38.15%2c16.93 Z M12.905%2c9.01 L11.06%2c9.01 C5.21%2c9.01 3.005%2c8.92 2.24%2c8.695 C1.745%2c8.56 1.25%2c8.11 1.25%2c7.75 C1.25%2c6.94 2.15%2c6.445 3.77%2c6.31 C7.55%2c6.085 12.455%2c5.68 14.39%2c5.455 C13.76%2c6.49 13.4%2c6.985 13.4%2c7.075 C13.04%2c7.93 12.95%2c8.335 12.905%2c9.01 Z M14.57%2c13.96 C13.715%2c13.96 12.905%2c13.195 12.905%2c12.34 C12.905%2c11.8 13.175%2c11.26 13.805%2c10.54 C14.84%2c10.945 14.84%2c10.945 15.38%2c10.945 C15.965%2c10.945 16.73%2c10.81 17.36%2c10.585 C18.125%2c10.315 18.935%2c9.64 19.565%2c8.785 C19.97%2c8.2 20.15%2c8.065 20.51%2c8.065 C21.14%2c8.065 21.95%2c8.83 21.95%2c9.415 C21.95%2c9.91 21.635%2c10.45 21.095%2c10.99 L21.0032812%2c11.0673698 C20.6578125%2c11.3478125 20.18%2c11.6125 18.53%2c12.52 C17.36%2c13.15 17.36%2c13.15 16.55%2c13.42 C15.38%2c13.825 14.885%2c13.96 14.57%2c13.96 Z M16.865%2c17.92 C16.1%2c17.92 15.38%2c17.2 15.38%2c16.435 C15.38%2c16.075 15.56%2c15.67 15.92%2c15.31 C16.235%2c14.95 16.235%2c14.95 17.27%2c14.455 C17.945%2c14.185 20.42%2c12.88 20.96%2c12.565 C21.815%2c12.025 22.085%2c11.935 22.535%2c11.935 C23.255%2c11.935 23.885%2c12.565 23.885%2c13.24 C23.885%2c14.05 23.075%2c14.86 20.87%2c16.165 C18.845%2c17.38 17.63%2c17.92 16.865%2c17.92 Z M20.465%2c20.53 C19.655%2c20.53 18.98%2c20.08 18.98%2c19.495 C18.98%2c19.225 19.115%2c18.955 19.43%2c18.685 C19.835%2c18.235 19.88%2c18.235 21.905%2c17.02 C22.85%2c16.435 23.57%2c15.94 24.02%2c15.49 C24.38%2c15.13 24.56%2c15.04 24.83%2c15.04 C25.46%2c15.04 25.955%2c15.49 25.955%2c16.03 C25.955%2c16.66 25.37%2c17.605 24.47%2c18.415 C22.94%2c19.81 21.635%2c20.53 20.465%2c20.53 Z' /%3e%3c/g%3e%3c/svg%3e");
					transform: translate(-50%, -60%) rotateY(180deg);
					opacity: 1;
				}
			}
		}

		&.more-down {
			.sphere {
				width: 1.4rem * 3;
				height: 1.4rem * 3;

				&::before {
					content: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 42 22'%3e%3cg fill='none' fill-rule='evenodd' stroke='none' stroke-width='1'%3e%3cpath fill='white' fill-rule='nonzero' d='M20.285%2c21.7 C20.735%2c21.7 21.41%2c21.565 22.535%2c21.205 C23.345%2c21.25 24.065%2c21.295 24.38%2c21.295 C26.495%2c21.295 27.665%2c20.845 31.535%2c18.505 C32.84%2c17.695 33.2%2c17.515 34.235%2c17.11 C34.73%2c17.605 35.09%2c17.875 35.495%2c18.01 C35.81%2c18.145 37.115%2c18.28 38.015%2c18.28 C39.275%2c18.28 39.815%2c18.1 40.13%2c17.56 C41.075%2c15.895 41.57%2c13.105 41.57%2c9.595 C41.57%2c5.545 40.94%2c3.7 39.455%2c3.52 C39.095%2c3.475 37.61%2c3.385 37.295%2c3.385 C36.125%2c3.385 35.765%2c3.61 34.37%2c4.96 C33.74%2c4.915 33.47%2c4.78 32.66%2c4.06 C31.715%2c3.25 29.42%2c1.855 28.07%2c1.27 C26.855%2c0.685 25.505%2c0.415 24.11%2c0.415 C23.21%2c0.415 22.85%2c0.46 21.545%2c0.775 C20.51%2c1.045 20.51%2c1.045 18.665%2c1.45 C17.675%2c1.675 16.55%2c2.575 15.29%2c4.06 C12.815%2c4.465 11.78%2c4.6 9.35%2c4.735 C4.13%2c5.05 3.635%2c5.095 2.6%2c5.275 C0.845%2c5.635 -0.01%2c6.445 -0.01%2c7.705 C-0.01%2c8.29 0.26%2c8.875 0.755%2c9.235 C1.75863636%2c10.0204545 3.18541322%2c10.2558264 6.96382544%2c10.2693701 L12.365%2c10.27 L12.365%2c10.27 C11.87%2c11.08 11.69%2c11.62 11.69%2c12.34 C11.69%2c13.87 12.77%2c14.995 14.345%2c15.085 C14.165%2c15.67 14.075%2c15.985 14.075%2c16.3 C14.075%2c17.875 15.38%2c19.27 16.865%2c19.27 C17.09%2c19.27 17.405%2c19.225 17.855%2c19.045 C17.765%2c19.315 17.765%2c19.45 17.765%2c19.63 C17.765%2c20.71 18.98%2c21.7 20.285%2c21.7 Z M24.335%2c20.17 C26.315%2c18.595 27.17%2c17.38 27.17%2c16.12 C27.17%2c15.355 26.99%2c14.815 26.585%2c14.455 C26%2c13.915 25.64%2c13.735 24.965%2c13.735 C25.01%2c13.375 25.055%2c13.195 25.055%2c12.97 C25.055%2c11.755 24.2%2c10.945 22.76%2c10.765 C22.94%2c10.45 22.985%2c10.315 23.075%2c9.91 C25.055%2c10.945 25.28%2c11.08 25.865%2c11.26 C26.54%2c11.44 28.43%2c11.71 29.24%2c11.71 C30.32%2c11.71 31.085%2c11.35 31.085%2c10.855 C31.085%2c10.54 30.86%2c10.36 30.5%2c10.36 L30.32%2c10.36 L30.32%2c10.36 C29.015%2c10.495 29.015%2c10.495 28.88%2c10.495 C27.035%2c10.495 25.82%2c10.18 24.65%2c9.415 C23.165%2c8.47 22.22%2c7.615 21.32%2c6.535 C20.825%2c6.67 20.825%2c6.67 19.79%2c7.075 C18.98%2c7.345 18.98%2c7.345 18.665%2c7.84 C17.765%2c9.1 16.73%2c9.73 15.515%2c9.73 C14.705%2c9.73 14.165%2c9.37 14.165%2c8.83 C14.165%2c8.515 14.39%2c7.93 14.975%2c6.985 C16.145%2c4.915 17.27%2c3.61 18.305%2c3.07 C19.34%2c2.53 22.94%2c1.63 24.155%2c1.63 C25.1%2c1.63 26.045%2c1.81 26.99%2c2.17 C28.295%2c2.71 30.635%2c4.105 32.075%2c5.185 C33.11%2c5.995 33.74%2c6.31 34.46%2c6.31 C34.505%2c6.31 34.64%2c6.265 34.82%2c6.22 C35.18%2c6.985 35.225%2c7.165 35.315%2c7.84 C35.36%2c8.38 35.45%2c10.495 35.45%2c11.08 C35.45%2c11.575 35.36%2c12.565 35.225%2c13.24 C35.045%2c14.41 34.865%2c14.86 34.235%2c15.67 C33.47%2c16.12 33.47%2c16.12 31.31%2c17.2 L29.195%2c18.415 C27.44%2c19.495 25.955%2c20.035 24.335%2c20.17 Z M38.15%2c16.93 C36.035%2c16.93 35.54%2c16.84 35.54%2c16.39 C35.54%2c16.255 35.63%2c16.03 35.945%2c15.265 C36.44%2c14.14 36.71%2c12.34 36.71%2c10.27 C36.71%2c8.11 36.53%2c6.805 36.035%2c5.635 C35.99%2c5.5 35.945%2c5.365 35.945%2c5.275 C35.945%2c4.96 36.485%2c4.645 36.98%2c4.645 C37.16%2c4.645 37.295%2c4.645 37.565%2c4.69 L38.465%2c4.69 L38.465%2c4.69 C39.41%2c4.69 39.725%2c4.825 39.95%2c5.365 C40.22%2c6.085 40.4%2c7.705 40.4%2c9.865 C40.4%2c12.52 40.175%2c14.095 39.545%2c15.895 C39.185%2c16.795 39.05%2c16.93 38.15%2c16.93 Z M12.905%2c9.01 L11.06%2c9.01 C5.21%2c9.01 3.005%2c8.92 2.24%2c8.695 C1.745%2c8.56 1.25%2c8.11 1.25%2c7.75 C1.25%2c6.94 2.15%2c6.445 3.77%2c6.31 C7.55%2c6.085 12.455%2c5.68 14.39%2c5.455 C13.76%2c6.49 13.4%2c6.985 13.4%2c7.075 C13.04%2c7.93 12.95%2c8.335 12.905%2c9.01 Z M14.57%2c13.96 C13.715%2c13.96 12.905%2c13.195 12.905%2c12.34 C12.905%2c11.8 13.175%2c11.26 13.805%2c10.54 C14.84%2c10.945 14.84%2c10.945 15.38%2c10.945 C15.965%2c10.945 16.73%2c10.81 17.36%2c10.585 C18.125%2c10.315 18.935%2c9.64 19.565%2c8.785 C19.97%2c8.2 20.15%2c8.065 20.51%2c8.065 C21.14%2c8.065 21.95%2c8.83 21.95%2c9.415 C21.95%2c9.91 21.635%2c10.45 21.095%2c10.99 L21.0032812%2c11.0673698 C20.6578125%2c11.3478125 20.18%2c11.6125 18.53%2c12.52 C17.36%2c13.15 17.36%2c13.15 16.55%2c13.42 C15.38%2c13.825 14.885%2c13.96 14.57%2c13.96 Z M16.865%2c17.92 C16.1%2c17.92 15.38%2c17.2 15.38%2c16.435 C15.38%2c16.075 15.56%2c15.67 15.92%2c15.31 C16.235%2c14.95 16.235%2c14.95 17.27%2c14.455 C17.945%2c14.185 20.42%2c12.88 20.96%2c12.565 C21.815%2c12.025 22.085%2c11.935 22.535%2c11.935 C23.255%2c11.935 23.885%2c12.565 23.885%2c13.24 C23.885%2c14.05 23.075%2c14.86 20.87%2c16.165 C18.845%2c17.38 17.63%2c17.92 16.865%2c17.92 Z M20.465%2c20.53 C19.655%2c20.53 18.98%2c20.08 18.98%2c19.495 C18.98%2c19.225 19.115%2c18.955 19.43%2c18.685 C19.835%2c18.235 19.88%2c18.235 21.905%2c17.02 C22.85%2c16.435 23.57%2c15.94 24.02%2c15.49 C24.38%2c15.13 24.56%2c15.04 24.83%2c15.04 C25.46%2c15.04 25.955%2c15.49 25.955%2c16.03 C25.955%2c16.66 25.37%2c17.605 24.47%2c18.415 C22.94%2c19.81 21.635%2c20.53 20.465%2c20.53 Z' /%3e%3c/g%3e%3c/svg%3e");
					transform: translate(-36%, -50%) rotateY(180deg) rotateZ(-90deg);
					opacity: 1;
				}
			}
		}

		&.disable {
			display: none;

			* & {
				cursor: initial;
			}
		}
	}
}
</style>
